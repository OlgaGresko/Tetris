!function(){function e(e){return e&&e.__esModule?e.default:e}var t={};Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")};var i={};function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(e,t,i){t&&n(e.prototype,t);i&&n(e,i);return e};var l={};Object.defineProperty(l,"__esModule",{value:!0}),l.default=function(e,t,i){t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i;return e};var o=function(){"use strict";function n(){e(t)(this,n),e(l)(this,"score",0),e(l)(this,"lines",0),e(l)(this,"level",0),e(l)(this,"playfield",[[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0]]),e(l)(this,"activePiece",{x:0,y:0,blocks:[[0,1,0],[1,1,1],[0,0,0]]})}return e(i)(n,[{key:"movePieceLeft",value:function(){this.activePiece.x-=1,this.hasCollision()&&(this.activePiece.x+=1)}},{key:"movePieceRight",value:function(){this.activePiece.x+=1,this.hasCollision()&&(this.activePiece.x-=1)}},{key:"movePieceDown",value:function(){this.activePiece.y+=1,this.hasCollision()&&(this.activePiece.y-=1,this.lockPiece())}},{key:"rotatePiece",value:function(){this.rotateBlocks(),this.hasCollision()&&this.rotateBlocks(!1)}},{key:"rotateBlocks",value:function(){for(var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.activePiece.blocks,i=t.length,n=Math.floor(i/2),l=i-1,o=0;o<n;o++)for(var a=o;a<l-o;a++){var c=t[o][a];e?(t[o][a]=t[l-a][o],t[l-a][o]=t[l-o][l-a],t[l-o][l-a]=t[a][l-o],t[a][l-o]=c):(t[o][a]=t[a][l-o],t[a][l-o]=t[l-o][l-a],t[l-o][l-a]=t[l-a][o],t[l-a][o]=c)}}},{key:"hasCollision",value:function(){for(var e=this.activePiece,t=e.y,i=e.x,n=e.blocks,l=0;l<n.length;l++)for(var o=0;o<n.length;o++)if(n[l][o]&&(void 0===this.playfield[t+l]||void 0===this.playfield[t+l][i+o]||this.playfield[t+l][i+o]))return!0;return!1}},{key:"lockPiece",value:function(){for(var e=this.activePiece,t=e.y,i=e.x,n=e.blocks,l=0;l<n.length;l++)for(var o=0;o<n.length;o++)n[l][o]&&(this.playfield[t+l][i+o]=n[l][o])}}]),n}(),a=function(){"use strict";function n(i,l,o,a,c){e(t)(this,n),this.element=i,this.width=l,this.height=o,this.canvas=document.createElement("canvas"),this.canvas.width=this.width,this.canvas.height=this.height,this.context=this.canvas.getContext("2d"),this.blockWidth=this.width/c,this.blockHeight=this.height/a,this.element.appendChild(this.canvas)}return e(i)(n,[{key:"renderPlayfield",value:function(e){for(var t=0;t<e.length;t++)for(var i=e[t],n=0;n<i.length;n++){i[n]&&(this.context.fillStyle="red",this.context.strokeStyle="black",this.context.lineWidth=2,this.context.fillRect(n*this.blockWidth,t*this.blockHeight,this.blockWidth,this.blockHeight))}}}]),n}(),c=document.querySelector("#root"),s=new o,h=new a(c,320,640,20,10);window.game=s,window.view=h,h.renderPlayfield(s.playfield)}();
//# sourceMappingURL=index.989462ca.js.map
